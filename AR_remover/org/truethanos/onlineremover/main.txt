#:kivy 1.0.9

<InitScreen>:
    canvas.before:
        Rectangle:
            size: self.width, self.height
            source: "imgs/render_img.png"

        Color:
            rgba: .7, .44, .8, .89

        Ellipse:
            angle_start: 180
            angle_end: 360
            pos: self.width * .15, self.height - 80
            size: self.width * .1 , 60

        Rectangle:
            pos: self.width * .2, self.height - 80
            size: self.width * .6 , 60

        Ellipse:
            angle_start: 360
            angle_end: 540
            pos: self.width * .75, self.height - 80
            size: self.width * .1 , 60

    Label:
        text: "TRUE THANOS"
        font_size: 28
        center_x: self.width / 2
        top: root.top * .57

    Label:
        text: "     Стирайте только\nнужные вам объекты\n  с видео или онлайн"
        font_size: 25
        center_x: self.width / 2
        top: 0

    Button:
        text: "Видео"
        font_size: 28
        center_x: root.width / 2
        top: root.top * .26
        size_hint: None, None
        size: 280, 60
        on_press: root.video_load()
        background_normal: "imgs/normal_init_button.png"
        background_down: "imgs/down_init_button.png"

    Button:
        text: "Online"
        font_size: 28
        center_x: root.width / 2
        top: root.top * .13
        size_hint: None, None
        size: 280, 60
        on_press: root.manager.current = 'online'
        background_normal: "imgs/normal_init_button.png"
        background_down: "imgs/down_init_button.png"

<OnlineCameraScreen>:
    BoxLayout:
        id: layout
        orientation: 'vertical'
        # size_hint: None, None

        #Camera:
        #    id: camera
        #    resolution: (1920, 1080)
        #    state: 'stop'
        #    canvas.before:
        #        PushMatrix
        #        Rotate:
        #            angle: -90
        #            origin: self.center
        #    canvas.after:
        #        PopMatrix

        BoxLayout:
            orientation: 'horizontal'
            size: root.width, 60
            size_hint: None, None
            Button:
                text: "Врнуться в меню"
                on_press: root.manager.current = 'menu'
                font_size: 28
                size_hint: None, None
                size: root.width / 2, 60
                background_normal: "imgs/normal_init_button.png"
                background_down: "imgs/down_init_button.png"
            Button:
                text: "Сделать фото"
                on_press:root.take_shot()
                font_size: 28
                size_hint: None, None
                size: root.width / 2, 60
                background_normal: "imgs/normal_init_button.png"
                background_down: "imgs/down_init_button.png"



<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: '/'

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.selection)

<VideoCameraScreen>:
    BoxLayout:
        id: layout
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            size: root.width, 60
            size_hint: None, None
            Button:
                text: "Врнуться в меню"
                on_press: root.manager.current = 'menu'
                font_size: 28
                size_hint: None, None
                size: root.width / 2, 60
                background_normal: "imgs/normal_init_button.png"
                background_down: "imgs/down_init_button.png"